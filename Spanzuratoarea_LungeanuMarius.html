<!DOCTYPE html>
<html>
<head>
    <title>Spanzarutoarea</title> 
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #E2C799; /* fundal */
        }
        #game-container {
            background-color: #F2ECBE;
            max-width: 400px;
            margin: 20px auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
        }
        #word {
            font-size: 24px;
            margin-top: 20px;
        }
        #lives {
            font-size: 18px;
            margin-top: 10px;
        }
        #message {
            font-size: 24px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>Spanzarutoarea</h1>
        <div id="word"></div> <!--cunvat de ghicit-->
        <div id="lives">Vieti: <span id="lives-count">3</span></div> <!-- vieti -->
        <div id="message"></div> <!-- mesaj win/lose-->
        <div id="retry" style="display: none;">
            <p>Apasa 'F5' sa incerci din nou!</p> 
        </div>

        <script>
            const words = ['banana', 'program', 'javascript', 'calculator'];
            var selectedWord = words[Math.floor(Math.random() * words.length)]; // cuvant random
            var lives = 3; 
            var wordState = Array(selectedWord.length).fill('-'); // cuvant cenzurat

            function updateWordDisplay() {
                const wordDisplay = document.getElementById('word');
                wordDisplay.textContent = wordState.join(' '); // update cuvant
            }

            function guessLetter(letter) {
                if (lives > 0) {
                    if (selectedWord.includes(letter)) { // daca litera este in cuvant
                        for (let i = 0; i < selectedWord.length; i++) {
                            if (selectedWord[i] === letter) {
                                wordState[i] = letter; // update litera in cuvant
                            }
                        }
                    } else {
                        lives--;
                        const livesCount = document.getElementById('lives-count');
                        livesCount.textContent = lives; // scade o viata
                    }

                    updateWordDisplay(); //  afișare cuvant ghicitor

                    if (wordState.join('') === selectedWord) { //varianta castgatoare
                        document.getElementById('game-container').style.backgroundColor = 'green'; 
                        document.getElementById('message').textContent = 'Ai castigat!'; 
                        document.getElementById('retry').style.display = 'block';
                    } else if (lives === 0) { //varianta pierzatoare
                        document.getElementById('game-container').style.backgroundColor = 'red'; 
                        document.getElementById('message').textContent = 'Ai pierdut!'; 
                        document.getElementById('retry').style.display = 'block'; 
                    }
                }
            }

            function keyHandler(event) {
                const letter = event.key.toLowerCase();
                if (/^[a-z]$/.test(letter)) { //litera mica
                    guessLetter(letter); // Funcția de ghicire a literei pe baza tastei apăsate
                }
            }

            document.addEventListener('keydown', keyHandler);

            updateWordDisplay();
        </script>
    </div>
</body>
</html>
